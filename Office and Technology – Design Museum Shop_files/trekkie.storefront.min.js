(function t(e,r,n){var o=function(){return this}();function i(t){if(r[t])return r[t].exports;if(e[t])return a(t,i);throw new Error('cannot find module "'+t+'"')}function a(o,i){var a=r[o]={exports:{}};var s=e[o];var u=s[2];var c=s[0];var p=true;try{c.call(a.exports,function(t){var r=e[o][1][t];return i(r||t)},a,a.exports,t,e,r,n);p=false}finally{if(p){delete r[o]}else if(u){r[u]=r[o]}}return r[o].exports}for(var s in n){if(n[s]){o[n[s]]=i(s)}else{i(s)}}i.duo=true;i.cache=r;i.modules=e;return i})({1:[function(t,e,r){var n=window.analytics||[];var o=t("segmentio/analytics.js-core");var i=t("./integrations");var a=t("each");e.exports=r=o;a(i,function(t,e){o.use(e)});while(n&&n.length>0){var s=n.shift();var u=s.shift();if(o[u]){o[u].apply(o,s)}}},{"segmentio/analytics.js-core":2,"./integrations":3,each:4}],2:[function(t,e,r){var n=t("./analytics");var o=e.exports=r=new n;o.require=t;r.VERSION=t("../bower.json").version},{"./analytics":5,"../bower.json":6}],5:[function(t,e,r){var n=window.analytics;var o=t("emitter");var i=t("facade");var a=t("after");var s=t("bind");var u=t("callback");var c=t("clone");var p=t("./cookie");var f=t("debug");var l=t("defaults");var d=t("each");var h=t("foldl");var v=t("./group");var y=t("is");var m=t("is-meta");var g=t("object").keys;var w=t("./memory");var b=t("./normalize");var x=t("event").bind;var k=t("./pageDefaults");var _=t("pick");var j=t("prevent");var E=t("querystring");var I=t("object").length;var O=t("./store");var S=t("./user");var C=i.Alias;var A=i.Group;var T=i.Identify;var P=i.Page;var q=i.Track;r=e.exports=z;r.cookie=p;r.store=O;r.memory=w;function z(){this._options({});this.Integrations={};this._integrations={};this._readied=false;this._timeout=300;this._user=S;this.log=f("analytics.js");s.all(this);var t=this;this.on("initialize",function(e,r){if(r.initialPageview)t.page();t._parseQuery(window.location.search)})}o(z.prototype);z.prototype.use=function(t){t(this);return this};z.prototype.addIntegration=function(t){var e=t.prototype.name;if(!e)throw new TypeError("attempted to add an invalid integration");this.Integrations[e]=t;return this};z.prototype.init=z.prototype.initialize=function(t,e){t=t||{};e=e||{};this._options(e);this._readied=false;var r=this;d(t,function(e){var n=r.Integrations[e];if(!n)delete t[e]});d(t,function(t,e){var n=r.Integrations[t];var o=new n(c(e));r.log("initialize %o - %o",t,e);r.add(o)});var n=this._integrations;S.load();v.load();var o=a(I(n),function(){r._readied=true;r.emit("ready")});d(n,function(t,n){if(e.initialPageview&&n.options.initialPageview===false){n.page=a(2,n.page)}n.analytics=r;n.once("ready",o);n.initialize()});this.initialized=true;this.emit("initialize",t,e);return this};z.prototype.setAnonymousId=function(t){this.user().anonymousId(t);return this};z.prototype.add=function(t){this._integrations[t.name]=t;return this};z.prototype.identify=function(t,e,r,n){if(y.fn(r))n=r,r=null;if(y.fn(e))n=e,r=null,e=null;if(y.object(t))r=e,e=t,t=S.id();S.identify(t,e);var o=this.normalize({options:r,traits:S.traits(),userId:S.id()});this._invoke("identify",new T(o));this.emit("identify",t,e,r);this._callback(n);return this};z.prototype.user=function(){return S};z.prototype.group=function(t,e,r,n){if(!arguments.length)return v;if(y.fn(r))n=r,r=null;if(y.fn(e))n=e,r=null,e=null;if(y.object(t))r=e,e=t,t=v.id();v.identify(t,e);var o=this.normalize({options:r,traits:v.traits(),groupId:v.id()});this._invoke("group",new A(o));this.emit("group",t,e,r);this._callback(n);return this};z.prototype.track=function(t,e,r,n){if(y.fn(r))n=r,r=null;if(y.fn(e))n=e,r=null,e=null;var o=this.options.plan||{};var i=o.track||{};var a=this.normalize({properties:e,options:r,event:t});o=i[t];if(o){this.log("plan %o - %o",t,o);if(o.enabled===false)return this._callback(n);l(a.integrations,o.integrations||{})}this._invoke("track",new q(a));this.emit("track",t,e,r);this._callback(n);return this};z.prototype.trackClick=z.prototype.trackLink=function(t,e,r){if(!t)return this;if(y.element(t))t=[t];var n=this;d(t,function(t){if(!y.element(t))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");x(t,"click",function(o){var i=y.fn(e)?e(t):e;var a=y.fn(r)?r(t):r;var s=t.getAttribute("href")||t.getAttributeNS("http://www.w3.org/1999/xlink","href")||t.getAttribute("xlink:href");n.track(i,a);if(s&&t.target!=="_blank"&&!m(o)){j(o);n._callback(function(){window.location.href=s})}})});return this};z.prototype.trackSubmit=z.prototype.trackForm=function(t,e,r){if(!t)return this;if(y.element(t))t=[t];var n=this;d(t,function(t){if(!y.element(t))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");function o(o){j(o);var i=y.fn(e)?e(t):e;var a=y.fn(r)?r(t):r;n.track(i,a);n._callback(function(){t.submit()})}var i=window.jQuery||window.Zepto;if(i){i(t).submit(o)}else{x(t,"submit",o)}});return this};z.prototype.page=function(t,e,r,n,o){if(y.fn(n))o=n,n=null;if(y.fn(r))o=r,n=r=null;if(y.fn(e))o=e,n=r=e=null;if(y.object(t))n=e,r=t,e=t=null;if(y.object(e))n=r,r=e,e=null;if(y.string(t)&&!y.string(e))e=t,t=null;r=c(r)||{};if(e)r.name=e;if(t)r.category=t;var i=k();l(r,i);var a=_(g(i),r);if(!y.empty(a)){n=n||{};n.context=n.context||{};n.context.page=a}var s=this.normalize({properties:r,category:t,options:n,name:e});this._invoke("page",new P(s));this.emit("page",t,e,r,n);this._callback(o);return this};z.prototype.pageview=function(t){var e={};if(t)e.path=t;this.page(e);return this};z.prototype.alias=function(t,e,r,n){if(y.fn(r))n=r,r=null;if(y.fn(e))n=e,r=null,e=null;if(y.object(e))r=e,e=null;var o=this.normalize({options:r,previousId:e,userId:t});this._invoke("alias",new C(o));this.emit("alias",t,e,r);this._callback(n);return this};z.prototype.ready=function(t){if(y.fn(t)){if(this._readied){u.async(t)}else{this.once("ready",t)}}return this};z.prototype.timeout=function(t){this._timeout=t};z.prototype.debug=function(t){if(!arguments.length||t){f.enable("analytics:"+(t||"*"))}else{f.disable()}};z.prototype._options=function(t){t=t||{};this.options=t;p.options(t.cookie);O.options(t.localStorage);S.options(t.user);v.options(t.group);return this};z.prototype._callback=function(t){u.async(t,this._timeout);return this};z.prototype._invoke=function(t,e){this.emit("invoke",e);d(this._integrations,function(r,n){if(!e.enabled(r))return;n.invoke.call(n,t,e)});return this};z.prototype.push=function(t){var e=t.shift();if(!this[e])return;this[e].apply(this,t)};z.prototype.reset=function(){this.user().logout();this.group().logout()};z.prototype._parseQuery=function(t){var e=E.parse(t);var r=o("ajs_trait_",e);var n=o("ajs_prop_",e);if(e.ajs_uid)this.identify(e.ajs_uid,r);if(e.ajs_event)this.track(e.ajs_event,n);if(e.ajs_aid)S.anonymousId(e.ajs_aid);return this;function o(t,e){var r=t.length;var n;return h(function(e,o,i){if(i.substr(0,r)===t){n=i.substr(r);e[n]=o}return e},{},e)}};z.prototype.normalize=function(t){t=b(t,g(this._integrations));if(t.anonymousId)S.anonymousId(t.anonymousId);t.anonymousId=S.anonymousId();t.context.page=l(t.context.page||{},k());return t};z.prototype.noConflict=function(){window.analytics=n;return this}},{emitter:7,facade:8,after:9,bind:10,callback:11,clone:12,"./cookie":13,debug:14,defaults:15,each:4,foldl:16,"./group":17,is:18,"is-meta":19,object:20,"./memory":21,"./normalize":22,event:23,"./pageDefaults":24,pick:25,prevent:26,querystring:27,"./store":28,"./user":29}],7:[function(t,e,r){var n=t("indexof");e.exports=o;function o(t){if(t)return i(t)}function i(t){for(var e in o.prototype){t[e]=o.prototype[e]}return t}o.prototype.on=o.prototype.addEventListener=function(t,e){this._callbacks=this._callbacks||{};(this._callbacks[t]=this._callbacks[t]||[]).push(e);return this};o.prototype.once=function(t,e){var r=this;this._callbacks=this._callbacks||{};function n(){r.off(t,n);e.apply(this,arguments)}e._off=n;this.on(t,n);return this};o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var r=this._callbacks[t];if(!r)return this;if(1==arguments.length){delete this._callbacks[t];return this}var o=n(r,e._off||e);if(~o)r.splice(o,1);return this};o.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n){r[n].apply(this,e)}}return this};o.prototype.listeners=function(t){this._callbacks=this._callbacks||{};return this._callbacks[t]||[]};o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{indexof:30}],30:[function(t,e,r){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;++r){if(t[r]===e)return r}return-1}},{}],8:[function(t,e,r){var n=t("./facade");e.exports=n;n.Alias=t("./alias");n.Group=t("./group");n.Identify=t("./identify");n.Track=t("./track");n.Page=t("./page");n.Screen=t("./screen")},{"./facade":31,"./alias":32,"./group":33,"./identify":34,"./track":35,"./page":36,"./screen":37}],31:[function(t,e,r){var n=t("isodate-traverse");var o=t("./is-enabled");var i=t("./utils").clone;var a=t("./utils").type;var s=t("./address");var u=t("obj-case");var c=t("new-date");e.exports=p;function p(t){t=i(t);if(!t.hasOwnProperty("timestamp"))t.timestamp=new Date;else t.timestamp=c(t.timestamp);n(t);this.obj=t}s(p.prototype);p.prototype.proxy=function(t){var e=t.split(".");t=e.shift();var r=this[t]||this.field(t);if(!r)return r;if(typeof r==="function")r=r.call(this)||{};if(e.length===0)return f(r);r=u(r,e.join("."));return f(r)};p.prototype.field=function(t){var e=this.obj[t];return f(e)};p.proxy=function(t){return function(){return this.proxy(t)}};p.field=function(t){return function(){return this.field(t)}};p.multi=function(t){return function(){var e=this.proxy(t+"s");if("array"==a(e))return e;var r=this.proxy(t);if(r)r=[i(r)];return r||[]}};p.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var r=this.proxy(t+"s");if("array"==a(r))return r[0]}};p.prototype.json=function(){var t=i(this.obj);if(this.type)t.type=this.type();return t};p.prototype.context=p.prototype.options=function(t){var e=i(this.obj.options||this.obj.context)||{};if(!t)return i(e);if(!this.enabled(t))return;var r=this.integrations();var n=r[t]||u(r,t);if("boolean"==typeof n)n={};return n||{}};p.prototype.enabled=function(t){var e=this.proxy("options.providers.all");if(typeof e!=="boolean")e=this.proxy("options.all");if(typeof e!=="boolean")e=this.proxy("integrations.all");if(typeof e!=="boolean")e=true;var r=e&&o(t);var n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)){r=n.providers[t]}if(n.hasOwnProperty(t)){var i=n[t];if(typeof i==="boolean"){r=i}else{r=true}}return r?true:false};p.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};p.prototype.active=function(){var t=this.proxy("options.active");if(t===null||t===undefined)t=true;return t};p.prototype.sessionId=p.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};p.prototype.groupId=p.proxy("options.groupId");p.prototype.traits=function(t){var e=this.proxy("options.traits")||{};var r=this.userId();t=t||{};if(r)e.id=r;for(var n in t){var o=null==this[n]?this.proxy("options.traits."+n):this[n]();if(null==o)continue;e[t[n]]=o;delete e[n]}return e};p.prototype.library=function(){var t=this.proxy("options.library");if(!t)return{name:"unknown",version:null};if(typeof t==="string")return{name:t,version:null};return t};p.prototype.userId=p.field("userId");p.prototype.channel=p.field("channel");p.prototype.timestamp=p.field("timestamp");p.prototype.userAgent=p.proxy("options.userAgent");p.prototype.ip=p.proxy("options.ip");function f(t){var e=i(t);return e}},{"isodate-traverse":38,"./is-enabled":39,"./utils":40,"./address":41,"obj-case":42,"new-date":43}],38:[function(t,e,r){var n=t("is");var o=t("isodate");var i;try{i=t("each")}catch(a){i=t("each-component")}e.exports=s;function s(t,e){if(e===undefined)e=true;if(n.object(t))return u(t,e);if(n.array(t))return c(t,e);return t}function u(t,e){i(t,function(r,i){if(o.is(i,e)){t[r]=o.parse(i)}else if(n.object(i)||n.array(i)){s(i,e)}});return t}function c(t,e){i(t,function(r,i){if(n.object(r)){s(r,e)}else if(o.is(r,e)){t[i]=o.parse(r)}});return t}},{is:44,isodate:45,each:4}],44:[function(t,e,r){var n=t("is-empty");try{var o=t("type")}catch(i){var o=t("component-type")}var a=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var s=0,u;u=a[s];s++)r[u]=c(u);r.fn=r["function"];r.empty=n;r.nan=function(t){return r.number(t)&&t!=t};function c(t){return function(e){return t===o(e)}}},{"is-empty":46,type:47,"component-type":47}],46:[function(t,e,r){e.exports=o;var n=Object.prototype.hasOwnProperty;function o(t){if(null==t)return true;if("number"==typeof t)return 0===t;if(undefined!==t.length)return 0===t.length;for(var e in t)if(n.call(t,e))return false;return true}},{}],47:[function(t,e,r){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}if(t===null)return"null";if(t===undefined)return"undefined";if(t!==t)return"nan";if(t&&t.nodeType===1)return"element";if(typeof Buffer!="undefined"&&Buffer.isBuffer(t))return"buffer";t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t);return typeof t}},{}],45:[function(t,e,r){var n=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;r.parse=function(t){var e=[1,5,6,7,11,12];var r=n.exec(t);var o=0;if(!r)return new Date(t);for(var i=0,a;a=e[i];i++){r[a]=parseInt(r[a],10)||0}r[2]=parseInt(r[2],10)||1;r[3]=parseInt(r[3],10)||1;r[2]--;r[8]=r[8]?(r[8]+"00").substring(0,3):0;if(r[4]==" "){o=(new Date).getTimezoneOffset()}else if(r[9]!=="Z"&&r[10]){o=r[11]*60+r[12];if("+"==r[10])o=0-o}var s=Date.UTC(r[1],r[2],r[3],r[5],r[6]+o,r[7],r[8]);return new Date(s)};r.is=function(t,e){if(e&&false===/^\d{4}-\d{2}-\d{2}/.test(t))return false;return n.test(t)}},{}],4:[function(t,e,r){var n=t("type");var o=Object.prototype.hasOwnProperty;e.exports=function(t,e){switch(n(t)){case"array":return s(t,e);case"object":if("number"==typeof t.length)return s(t,e);return a(t,e);case"string":return i(t,e)}};function i(t,e){for(var r=0;r<t.length;++r){e(t.charAt(r),r)}}function a(t,e){for(var r in t){if(o.call(t,r)){e(r,t[r])}}}function s(t,e){for(var r=0;r<t.length;++r){e(t[r],r)}}},{type:47}],39:[function(t,e,r){var n={Salesforce:true};e.exports=function(t){return!n[t]}},{}],40:[function(t,e,r){try{r.inherit=t("inherit");r.clone=t("clone");r.type=t("type")}catch(n){r.inherit=t("inherit-component");r.clone=t("clone-component");r.type=t("type-component")}},{inherit:48,clone:49,type:47}],48:[function(t,e,r){e.exports=function(t,e){var r=function(){};r.prototype=e.prototype;t.prototype=new r;t.prototype.constructor=t}},{}],49:[function(t,e,r){var n;try{n=t("component-type")}catch(o){n=t("type")}e.exports=i;function i(t){switch(n(t)){case"object":var e={};for(var r in t){if(t.hasOwnProperty(r)){e[r]=i(t[r])}}return e;case"array":var e=new Array(t.length);for(var o=0,a=t.length;o<a;o++){e[o]=i(t[o])}return e;case"regexp":var s="";s+=t.multiline?"m":"";s+=t.global?"g":"";s+=t.ignoreCase?"i":"";return new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}},{"component-type":47,type:47}],41:[function(t,e,r){var n=t("obj-case");e.exports=function(t){t.zip=e("postalCode","zip");t.country=e("country");t.street=e("street");t.state=e("state");t.city=e("city");function e(t,e){return function(){var r=this.traits();var o=this.properties?this.properties():{};return n(r,"address."+t)||n(r,t)||(e?n(r,"address."+e):null)||(e?n(r,e):null)||n(o,"address."+t)||n(o,t)||(e?n(o,"address."+e):null)||(e?n(o,e):null)}}}},{"obj-case":42}],42:[function(t,e,r){var n=function(t){return t};e.exports=o(i);e.exports.find=e.exports;e.exports.replace=function(t,e,r,n){o(s).call(this,t,e,r,n);return t};e.exports.del=function(t,e,r){o(a).call(this,t,e,null,r);return t};function o(t){return function(e,r,n,o){var i=o&&c(o.normalizer)?o.normalizer:u;r=i(r);var a;var s=false;while(!s)p();function p(){for(a in e){var t=i(a);if(0===r.indexOf(t)){var n=r.substr(t.length);if(n.charAt(0)==="."||n.length===0){r=n.substr(1);var o=e[a];if(null==o){s=true;return}if(!r.length){s=true;return}e=o;return}}}a=undefined;s=true}if(!a)return;if(null==e)return e;return t(e,a,n)}}function i(t,e){if(t.hasOwnProperty(e))return t[e]}function a(t,e){if(t.hasOwnProperty(e))delete t[e];return t}function s(t,e,r){if(t.hasOwnProperty(e))t[e]=r;return t}function u(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function c(t){return typeof t==="function"}},{}],43:[function(t,e,r){var n=t("is");var o=t("isodate");var i=t("./milliseconds");var a=t("./seconds");e.exports=function u(t){if(n.date(t))return t;if(n.number(t))return new Date(s(t));if(o.is(t))return o.parse(t);if(i.is(t))return i.parse(t);if(a.is(t))return a.parse(t);return new Date(t)};function s(t){if(t<315576e5)return t*1e3;return t}},{is:50,isodate:45,"./milliseconds":51,"./seconds":52}],50:[function(t,e,r){var n=t("is-empty"),o=t("type");var i=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var a=0,s;s=i[a];a++)r[s]=u(s);r.fn=r["function"];r.empty=n;r.nan=function(t){return r.number(t)&&t!=t};function u(t){return function(e){return t===o(e)}}},{"is-empty":46,type:47}],51:[function(t,e,r){var n=/\d{13}/;r.is=function(t){return n.test(t)};r.parse=function(t){t=parseInt(t,10);return new Date(t)}},{}],52:[function(t,e,r){var n=/\d{10}/;r.is=function(t){return n.test(t)};r.parse=function(t){var e=parseInt(t,10)*1e3;return new Date(e)}},{}],32:[function(t,e,r){var n=t("./utils").inherit;var o=t("./facade");e.exports=i;function i(t){o.call(this,t)}n(i,o);i.prototype.type=i.prototype.action=function(){return"alias"};i.prototype.from=i.prototype.previousId=function(){return this.field("previousId")||this.field("from")};i.prototype.to=i.prototype.userId=function(){return this.field("userId")||this.field("to")}},{"./utils":40,"./facade":31}],33:[function(t,e,r){var n=t("./utils").inherit;var o=t("./address");var i=t("is-email");var a=t("new-date");var s=t("./facade");e.exports=u;function u(t){s.call(this,t)}n(u,s);u.prototype.type=u.prototype.action=function(){return"group"};u.prototype.groupId=s.field("groupId");u.prototype.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return a(t)};u.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(i(e))return e};u.prototype.traits=function(t){var e=this.properties();var r=this.groupId();t=t||{};if(r)e.id=r;for(var n in t){var o=null==this[n]?this.proxy("traits."+n):this[n]();if(null==o)continue;e[t[n]]=o;delete e[n]}return e};u.prototype.name=s.proxy("traits.name");u.prototype.industry=s.proxy("traits.industry");u.prototype.employees=s.proxy("traits.employees");u.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}}},{"./utils":40,"./address":41,"is-email":53,"new-date":43,"./facade":31}],53:[function(t,e,r){e.exports=o;var n=/.+\@.+\..+/;function o(t){return n.test(t)}},{}],34:[function(t,e,r){var n=t("./address");var o=t("./facade");var i=t("is-email");var a=t("new-date");var s=t("./utils");var u=t("obj-case");var c=t("trim");var p=s.inherit;var f=s.clone;var l=s.type;e.exports=d;function d(t){o.call(this,t)}p(d,o);d.prototype.type=d.prototype.action=function(){return"identify"};d.prototype.traits=function(t){var e=this.field("traits")||{};var r=this.userId();t=t||{};if(r)e.id=r;for(var n in t){var o=null==this[n]?this.proxy("traits."+n):this[n]();if(null==o)continue;e[t[n]]=o;if(n!==t[n])delete e[n]}return e};d.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(i(e))return e};d.prototype.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return a(t)};d.prototype.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return a(t)};d.prototype.name=function(){var t=this.proxy("traits.name");if(typeof t==="string")return c(t);var e=this.firstName();var r=this.lastName();if(e&&r)return c(e+" "+r)};d.prototype.firstName=function(){var t=this.proxy("traits.firstName");if(typeof t==="string")return c(t);var e=this.proxy("traits.name");if(typeof e==="string")return c(e).split(" ")[0]};d.prototype.lastName=function(){var t=this.proxy("traits.lastName");if(typeof t==="string")return c(t);var e=this.proxy("traits.name");if(typeof e!=="string")return;var r=c(e).indexOf(" ");if(r===-1)return;return c(e.substr(r+1))};d.prototype.uid=function(){return this.userId()||this.username()||this.email()};d.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};d.prototype.age=function(){var t=this.birthday();var e=u(this.traits(),"age");if(null!=e)return e;if("date"!=l(t))return;var r=new Date;return r.getFullYear()-t.getFullYear()};d.prototype.avatar=function(){var t=this.traits();return u(t,"avatar")||u(t,"photoUrl")||u(t,"avatarUrl")};d.prototype.position=function(){var t=this.traits();return u(t,"position")||u(t,"jobTitle")};d.prototype.username=o.proxy("traits.username");d.prototype.website=o.one("traits.website");d.prototype.websites=o.multi("traits.website");d.prototype.phone=o.one("traits.phone");d.prototype.phones=o.multi("traits.phone");d.prototype.address=o.proxy("traits.address");d.prototype.gender=o.proxy("traits.gender");d.prototype.birthday=o.proxy("traits.birthday")},{"./address":41,"./facade":31,"is-email":53,"new-date":43,"./utils":40,"obj-case":42,trim:54}],54:[function(t,e,r){r=e.exports=n;function n(t){if(t.trim)return t.trim();return t.replace(/^\s*|\s*$/g,"")}r.left=function(t){if(t.trimLeft)return t.trimLeft();return t.replace(/^\s*/,"")};r.right=function(t){if(t.trimRight)return t.trimRight();return t.replace(/\s*$/,"")}},{}],35:[function(t,e,r){var n=t("./utils").inherit;var o=t("./utils").clone;var i=t("./utils").type;var a=t("./facade");var s=t("./identify");var u=t("is-email");var c=t("obj-case");e.exports=p;function p(t){a.call(this,t)}n(p,a);p.prototype.type=p.prototype.action=function(){return"track"};p.prototype.event=a.field("event");p.prototype.value=a.proxy("properties.value");p.prototype.category=a.proxy("properties.category");p.prototype.id=a.proxy("properties.id");p.prototype.sku=a.proxy("properties.sku");p.prototype.tax=a.proxy("properties.tax");p.prototype.name=a.proxy("properties.name");p.prototype.price=a.proxy("properties.price");p.prototype.total=a.proxy("properties.total");p.prototype.coupon=a.proxy("properties.coupon");p.prototype.shipping=a.proxy("properties.shipping");p.prototype.discount=a.proxy("properties.discount");p.prototype.description=a.proxy("properties.description");p.prototype.plan=a.proxy("properties.plan");p.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.orderId")};p.prototype.subtotal=function(){var t=c(this.properties(),"subtotal");var e=this.total();var r;if(t)return t;if(!e)return 0;if(r=this.tax())e-=r;if(r=this.shipping())e-=r;if(r=this.discount())e+=r;return e};p.prototype.products=function(){var t=this.properties();var e=c(t,"products");return"array"==i(e)?e:[]};p.prototype.quantity=function(){var t=this.obj.properties||{};return t.quantity||1};p.prototype.currency=function(){var t=this.obj.properties||{};return t.currency||"USD"};p.prototype.referrer=a.proxy("properties.referrer");p.prototype.query=a.proxy("options.query");p.prototype.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var r in t){var n=null==this[r]?this.proxy("properties."+r):this[r]();if(null==n)continue;e[t[r]]=n;delete e[r]}return e};p.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};p.prototype.email=function(){var t=this.proxy("traits.email");t=t||this.proxy("properties.email");if(t)return t;var e=this.userId();if(u(e))return e};p.prototype.revenue=function(){var t=this.proxy("properties.revenue");var e=this.event();if(!t&&e&&e.match(/completed ?order/i)){t=this.proxy("properties.total")}return f(t)};p.prototype.cents=function(){var t=this.revenue();return"number"!=typeof t?this.value()||0:t*100};p.prototype.identify=function(){var t=this.json();t.traits=this.traits();return new s(t)};function f(t){if(!t)return;if(typeof t==="number")return t;if(typeof t!=="string")return;t=t.replace(/\$/g,"");t=parseFloat(t);if(!isNaN(t))return t}},{"./utils":40,"./facade":31,"./identify":34,"is-email":53,"obj-case":42}],36:[function(t,e,r){var n=t("./utils").inherit;var o=t("./facade");var i=t("./track");e.exports=a;function a(t){o.call(this,t)}n(a,o);a.prototype.type=a.prototype.action=function(){return"page"};a.prototype.category=o.field("category");a.prototype.name=o.field("name");a.prototype.title=o.proxy("properties.title");a.prototype.path=o.proxy("properties.path");a.prototype.url=o.proxy("properties.url");a.prototype.referrer=function(){return this.proxy("properties.referrer")||this.proxy("context.referrer.url")};a.prototype.properties=function(t){var e=this.field("properties")||{};var r=this.category();var n=this.name();t=t||{};if(r)e.category=r;if(n)e.name=n;for(var o in t){var i=null==this[o]?this.proxy("properties."+o):this[o]();if(null==i)continue;e[t[o]]=i;if(o!==t[o])delete e[o]}return e};a.prototype.fullName=function(){var t=this.category();var e=this.name();return e&&t?t+" "+e:e};a.prototype.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"};a.prototype.track=function(t){var e=this.properties();return new i({event:this.event(t),timestamp:this.timestamp(),context:this.context(),properties:e})}},{"./utils":40,"./facade":31,"./track":35}],37:[function(t,e,r){var n=t("./utils").inherit;var o=t("./page");var i=t("./track");e.exports=a;function a(t){o.call(this,t)}n(a,o);a.prototype.type=a.prototype.action=function(){return"screen"};a.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"};a.prototype.track=function(t){var e=this.properties();return new i({event:this.event(t),timestamp:this.timestamp(),context:this.context(),properties:e})}},{"./utils":40,"./page":36,"./track":35}],9:[function(t,e,r){e.exports=function n(t,e){if(t<=0)return e();return function(){if(--t<1){return e.apply(this,arguments)}}}},{}],10:[function(t,e,r){try{var n=t("bind")}catch(o){var n=t("bind-component")}var i=t("bind-all");e.exports=r=n;r.all=i;r.methods=a;function a(t,e){e=[].slice.call(arguments,1);for(var r=0,o;o=e[r];r++){t[o]=n(t,t[o])}return t}},{bind:55,"bind-all":56}],55:[function(t,e,r){var n=[].slice;e.exports=function(t,e){if("string"==typeof e)e=t[e];if("function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},{}],56:[function(t,e,r){try{var n=t("bind");var o=t("type")}catch(i){var n=t("bind-component");var o=t("type-component")}e.exports=function(t){for(var e in t){var r=t[e];if(o(r)==="function")t[e]=n(t,t[e])}return t}},{bind:55,type:47}],11:[function(t,e,r){var n=t("next-tick");e.exports=o;function o(t){if("function"===typeof t)t()}o.async=function(t,e){if("function"!==typeof t)return;if(!e)return n(t);setTimeout(t,e)};o.sync=o},{"next-tick":57}],57:[function(t,e,r){"use strict";if(typeof setImmediate=="function"){e.exports=function(t){setImmediate(t)}}else if(typeof process!="undefined"&&typeof process.nextTick=="function"){e.exports=process.nextTick}else if(typeof window=="undefined"||window.ActiveXObject||!window.postMessage){e.exports=function(t){setTimeout(t)}}else{var n=[];window.addEventListener("message",function(){var t=0;while(t<n.length){try{n[t++]()}catch(e){n=n.slice(t);window.postMessage("tic!","*");throw e}}n.length=0},true);e.exports=function(t){if(!n.length)window.postMessage("tic!","*");n.push(t)}}},{}],12:[function(t,e,r){var n;try{n=t("type")}catch(o){n=t("type-component")}e.exports=i;function i(t){switch(n(t)){case"object":var e={};for(var r in t){if(t.hasOwnProperty(r)){e[r]=i(t[r])}}return e;case"array":var e=new Array(t.length);for(var o=0,a=t.length;o<a;o++){e[o]=i(t[o])}return e;case"regexp":var s="";s+=t.multiline?"m":"";s+=t.global?"g":"";s+=t.ignoreCase?"i":"";return new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}},{type:47}],13:[function(t,e,r){var n=t("bind");var o=t("clone");var i=t("cookie");var a=t("debug")("analytics.js:cookie");var s=t("defaults");var u=t("json");var c=t("top-domain");function p(t){this.options(t)}p.prototype.options=function(t){if(arguments.length===0)return this._options;t=t||{};var e="."+c(window.location.href);if(e===".")e=null;this._options=s(t,{maxage:31536e6,path:"/",domain:e});this.set("ajs:test",true);if(!this.get("ajs:test")){a("fallback to domain=null");this._options.domain=null}this.remove("ajs:test")};p.prototype.set=function(t,e){try{e=u.stringify(e);i(t,e,o(this._options));return true}catch(r){return false}};p.prototype.get=function(t){try{var e=i(t);e=e?u.parse(e):null;return e}catch(r){return null}};p.prototype.remove=function(t){try{i(t,null,o(this._options));return true}catch(e){return false}};e.exports=n.all(new p);e.exports.Cookie=p},{bind:10,clone:12,cookie:58,debug:14,defaults:15,json:59,"top-domain":60}],58:[function(t,e,r){var n=t("debug")("cookie");e.exports=function(t,e,r){switch(arguments.length){case 3:case 2:return o(t,e,r);case 1:return a(t);default:return i()}};function o(t,e,r){r=r||{};var n=u(t)+"="+u(e);if(null==e)r.maxage=-1;if(r.maxage){r.expires=new Date(+new Date+r.maxage)}if(r.path)n+="; path="+r.path;if(r.domain)n+="; domain="+r.domain;if(r.expires)n+="; expires="+r.expires.toUTCString();if(r.secure)n+="; secure";document.cookie=n}function i(){return s(document.cookie)}function a(t){return i()[t]}function s(t){var e={};var r=t.split(/ *; */);var n;if(""==r[0])return e;for(var o=0;o<r.length;++o){n=r[o].split("=");e[c(n[0])]=c(n[1])}return e}function u(t){try{return encodeURIComponent(t)}catch(e){n("error `encode(%o)` - %o",t,e)}}function c(t){try{return decodeURIComponent(t)}catch(e){n("error `decode(%o)` - %o",t,e)}}},{debug:14}],14:[function(t,e,r){if("undefined"==typeof window){e.exports=t("./lib/debug")}else{e.exports=t("./debug")}},{"./lib/debug":61,"./debug":62}],61:[function(t,e,r){var n=t("tty");e.exports=l;var o=[],i=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(t){t=t.replace("*",".*?");if(t[0]==="-"){i.push(new RegExp("^"+t.substr(1)+"$"))}else{o.push(new RegExp("^"+t+"$"))}});var a=[6,2,3,4,5,1];var s={};var u=0;var c=n.isatty(2);function p(){return a[u++%a.length]}function f(t){var e=1e3,r=60*1e3,n=60*r;if(t>=n)return(t/n).toFixed(1)+"h";if(t>=r)return(t/r).toFixed(1)+"m";if(t>=e)return(t/e|0)+"s";return t+"ms"}function l(t){function e(){}e.enabled=false;var r=i.some(function(e){return e.test(t)});if(r)return e;r=o.some(function(e){return e.test(t)});if(!r)return e;var n=p();function a(e){e=d(e);var r=new Date;var o=r-(s[t]||r);s[t]=r;e="  [9"+n+"m"+t+" "+"[3"+n+"m[90m"+e+"[3"+n+"m"+" +"+f(o)+"[0m";console.error.apply(this,arguments)}function u(e){e=d(e);e=(new Date).toUTCString()+" "+t+" "+e;console.error.apply(this,arguments)}a.enabled=u.enabled=true;return c||process.env.DEBUG_COLORS?a:u}function d(t){if(t instanceof Error)return t.stack||t.message;return t}},{}],62:[function(t,e,r){e.exports=n;function n(t){if(!n.enabled(t))return function(){};return function(e){e=o(e);var r=new Date;var i=r-(n[t]||r);n[t]=r;e=t+" "+e+" +"+n.humanize(i);
window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}}n.names=[];n.skips=[];n.enable=function(t){try{localStorage.debug=t}catch(e){}var r=(t||"").split(/[\s,]+/),o=r.length;for(var i=0;i<o;i++){t=r[i].replace("*",".*?");if(t[0]==="-"){n.skips.push(new RegExp("^"+t.substr(1)+"$"))}else{n.names.push(new RegExp("^"+t+"$"))}}};n.disable=function(){n.enable("")};n.humanize=function(t){var e=1e3,r=60*1e3,n=60*r;if(t>=n)return(t/n).toFixed(1)+"h";if(t>=r)return(t/r).toFixed(1)+"m";if(t>=e)return(t/e|0)+"s";return t+"ms"};n.enabled=function(t){for(var e=0,r=n.skips.length;e<r;e++){if(n.skips[e].test(t)){return false}}for(var e=0,r=n.names.length;e<r;e++){if(n.names[e].test(t)){return true}}return false};function o(t){if(t instanceof Error)return t.stack||t.message;return t}try{if(window.localStorage)n.enable(localStorage.debug)}catch(i){}},{}],15:[function(t,e,r){"use strict";var n=function(t,e,r){for(var o in e){if(r&&t[o]instanceof Object&&e[o]instanceof Object){t[o]=n(t[o],e[o],true)}else if(!(o in t)){t[o]=e[o]}}return t};e.exports=n},{}],59:[function(t,e,r){var n=window.JSON||{};var o=n.stringify;var i=n.parse;e.exports=i&&o?JSON:t("json-fallback")},{"json-fallback":63}],63:[function(require,module,exports){(function(){"use strict";var JSON=module.exports={};function f(t){return t<10?"0"+t:t}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx,escapable,gap,indent,meta,rep;function quote(t){escapable.lastIndex=0;return escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return typeof e==="string"?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var r,n,o,i,a=gap,s,u=e[t];if(u&&typeof u==="object"&&typeof u.toJSON==="function"){u=u.toJSON(t)}if(typeof rep==="function"){u=rep.call(e,t,u)}switch(typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u){return"null"}gap+=indent;s=[];if(Object.prototype.toString.apply(u)==="[object Array]"){i=u.length;for(r=0;r<i;r+=1){s[r]=str(r,u)||"null"}o=s.length===0?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]";gap=a;return o}if(rep&&typeof rep==="object"){i=rep.length;for(r=0;r<i;r+=1){if(typeof rep[r]==="string"){n=rep[r];o=str(n,u);if(o){s.push(quote(n)+(gap?": ":":")+o)}}}}else{for(n in u){if(Object.prototype.hasOwnProperty.call(u,n)){o=str(n,u);if(o){s.push(quote(n)+(gap?": ":":")+o)}}}}o=s.length===0?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}";gap=a;return o}}if(typeof JSON.stringify!=="function"){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(t,e,r){var n;gap="";indent="";if(typeof r==="number"){for(n=0;n<r;n+=1){indent+=" "}}else if(typeof r==="string"){indent=r}rep=e;if(e&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":t})}}if(typeof JSON.parse!=="function"){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(t,e){var r,n,o=t[e];if(o&&typeof o==="object"){for(r in o){if(Object.prototype.hasOwnProperty.call(o,r)){n=walk(o,r);if(n!==undefined){o[r]=n}else{delete o[r]}}}}return reviver.call(t,e,o)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})()},{}],60:[function(t,e,r){var n=t("url").parse;var o=t("cookie");r=e.exports=i;r.cookie=o;function i(t){var e=r.cookie;var n=r.levels(t);for(var o=0;o<n.length;++o){var i="__tld__";var a=n[o];var s={domain:"."+a};e(i,1,s);if(e(i)){e(i,null,s);return a}}return""}i.levels=function(t){var e=n(t).hostname;var r=e.split(".");var o=r[r.length-1];var i=[];if(4==r.length&&parseInt(o,10)==o){return i}if(1>=r.length){return i}for(var a=r.length-2;0<=a;--a){i.push(r.slice(a).join("."))}return i}},{url:64,cookie:65}],64:[function(t,e,r){r.parse=function(t){var e=document.createElement("a");e.href=t;return{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?n(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:e.pathname.charAt(0)!="/"?"/"+e.pathname:e.pathname,protocol:!e.protocol||":"==e.protocol?location.protocol:e.protocol,search:e.search,query:e.search.slice(1)}};r.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")};r.isRelative=function(t){return!r.isAbsolute(t)};r.isCrossDomain=function(t){t=r.parse(t);var e=r.parse(window.location.href);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol};function n(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}},{}],65:[function(t,e,r){var n=t("debug")("cookie");e.exports=function(t,e,r){switch(arguments.length){case 3:case 2:return o(t,e,r);case 1:return a(t);default:return i()}};function o(t,e,r){r=r||{};var n=u(t)+"="+u(e);if(null==e)r.maxage=-1;if(r.maxage){r.expires=new Date(+new Date+r.maxage)}if(r.path)n+="; path="+r.path;if(r.domain)n+="; domain="+r.domain;if(r.expires)n+="; expires="+r.expires.toUTCString();if(r.secure)n+="; secure";document.cookie=n}function i(){var t;try{t=document.cookie}catch(e){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(e.stack||e)}return{}}return s(t)}function a(t){return i()[t]}function s(t){var e={};var r=t.split(/ *; */);var n;if(""==r[0])return e;for(var o=0;o<r.length;++o){n=r[o].split("=");e[c(n[0])]=c(n[1])}return e}function u(t){try{return encodeURIComponent(t)}catch(e){n("error `encode(%o)` - %o",t,e)}}function c(t){try{return decodeURIComponent(t)}catch(e){n("error `decode(%o)` - %o",t,e)}}},{debug:66}],66:[function(t,e,r){r=e.exports=t("./debug");r.log=i;r.formatArgs=o;r.save=a;r.load=s;r.useColors=n;r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u();r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}r.formatters.j=function(t){return JSON.stringify(t)};function o(){var t=arguments;var e=this.useColors;t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+r.humanize(this.diff);if(!e)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0;var i=0;t[0].replace(/%[a-z%]/g,function(t){if("%%"===t)return;o++;if("%c"===t){i=o}});t.splice(i,0,n);return t}function i(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{if(null==t){r.storage.removeItem("debug")}else{r.storage.debug=t}}catch(e){}}function s(){var t;try{t=r.storage.debug}catch(e){}return t}r.enable(s());function u(){try{return window.localStorage}catch(t){}}},{"./debug":67}],67:[function(t,e,r){r=e.exports=a;r.coerce=p;r.disable=u;r.enable=s;r.enabled=c;r.humanize=t("ms");r.names=[];r.skips=[];r.formatters={};var n=0;var o;function i(){return r.colors[n++%r.colors.length]}function a(t){function e(){}e.enabled=false;function n(){var t=n;var e=+new Date;var a=e-(o||e);t.diff=a;t.prev=o;t.curr=e;o=e;if(null==t.useColors)t.useColors=r.useColors();if(null==t.color&&t.useColors)t.color=i();var s=Array.prototype.slice.call(arguments);s[0]=r.coerce(s[0]);if("string"!==typeof s[0]){s=["%o"].concat(s)}var u=0;s[0]=s[0].replace(/%([a-z%])/g,function(e,n){if(e==="%%")return e;u++;var o=r.formatters[n];if("function"===typeof o){var i=s[u];e=o.call(t,i);s.splice(u,1);u--}return e});if("function"===typeof r.formatArgs){s=r.formatArgs.apply(t,s)}var c=n.log||r.log||console.log.bind(console);c.apply(t,s)}n.enabled=true;var a=r.enabled(t)?n:e;a.namespace=t;return a}function s(t){r.save(t);var e=(t||"").split(/[\s,]+/);var n=e.length;for(var o=0;o<n;o++){if(!e[o])continue;t=e[o].replace(/\*/g,".*?");if(t[0]==="-"){r.skips.push(new RegExp("^"+t.substr(1)+"$"))}else{r.names.push(new RegExp("^"+t+"$"))}}}function u(){r.enable("")}function c(t){var e,n;for(e=0,n=r.skips.length;e<n;e++){if(r.skips[e].test(t)){return false}}for(e=0,n=r.names.length;e<n;e++){if(r.names[e].test(t)){return true}}return false}function p(t){if(t instanceof Error)return t.stack||t.message;return t}},{ms:68}],68:[function(t,e,r){var n=1e3;var o=n*60;var i=o*60;var a=i*24;var s=a*365.25;e.exports=function(t,e){e=e||{};if("string"==typeof t)return u(t);return e.long?p(t):c(t)};function u(t){t=""+t;if(t.length>1e4)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var r=parseFloat(e[1]);var u=(e[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return r*s;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*i;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}function c(t){if(t>=a)return Math.round(t/a)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=o)return Math.round(t/o)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}function p(t){return f(t,a,"day")||f(t,i,"hour")||f(t,o,"minute")||f(t,n,"second")||t+" ms"}function f(t,e,r){if(t<e)return;if(t<e*1.5)return Math.floor(t/e)+" "+r;return Math.ceil(t/e)+" "+r+"s"}},{}],16:[function(t,e,r){"use strict";var n;try{n=t("@ndhoule/each")}catch(o){n=t("each")}var i=function a(t,e,r){if(typeof t!=="function"){throw new TypeError("Expected a function but received a "+typeof t)}n(function(r,n,o){e=t(e,r,n,o)},r);return e};e.exports=i},{each:69}],69:[function(t,e,r){"use strict";var n;try{n=t("@ndhoule/keys")}catch(o){n=t("keys")}var i=Object.prototype.toString;var a=function l(t){var e=typeof t;return e==="number"||e==="object"&&i.call(t)==="[object Number]"};var s=typeof Array.isArray==="function"?Array.isArray:function d(t){return i.call(t)==="[object Array]"};var u=function h(t){return t!=null&&(s(t)||t!=="function"&&a(t.length))};var c=function v(t,e){for(var r=0;r<e.length;r+=1){if(t(e[r],r,e)===false){break}}};var p=function y(t,e){var r=n(e);for(var o=0;o<r.length;o+=1){if(t(e[r[o]],r[o],e)===false){break}}};var f=function m(t,e){return(u(e)?c:p).call(this,t,e)};e.exports=f},{keys:70}],70:[function(t,e,r){"use strict";var n=String.prototype.charAt;var o=function(t,e){return n.call(t,e)};var i=Object.prototype.hasOwnProperty;var a=Object.prototype.toString;var s=function l(t,e){return i.call(t,e)};var u=function d(t){return a.call(t)==="[object String]"};var c=function h(t){return t!=null&&(typeof t!=="function"&&typeof t.length==="number")};var p=function v(t,e){e=e||s;var r=[];for(var n=0,o=t.length;n<o;n+=1){if(e(t,n)){r.push(String(n))}}return r};var f=function y(t,e){e=e||s;var r=[];for(var n in t){if(e(t,n)){r.push(String(n))}}return r};e.exports=function m(t){if(t==null){return[]}if(u(t)){return p(t,o)}if(c(t)){return p(t,s)}return f(t)}},{}],17:[function(t,e,r){var n=t("./entity");var o=t("bind");var i=t("debug")("analytics:group");var a=t("inherit");s.defaults={persist:true,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}};function s(t){this.defaults=s.defaults;this.debug=i;n.call(this,t)}a(s,n);e.exports=o.all(new s);e.exports.Group=s},{"./entity":71,bind:10,debug:14,inherit:72}],71:[function(t,e,r){var n=t("clone");var o=t("./cookie");var i=t("debug")("analytics:entity");var a=t("defaults");var s=t("extend");var u=t("./memory");var c=t("./store");var p=t("isodate-traverse");e.exports=f;function f(t){this.options(t);this.initialize()}f.prototype.initialize=function(){o.set("ajs:cookies",true);if(o.get("ajs:cookies")){o.remove("ajs:cookies");this._storage=o;return}if(c.enabled){this._storage=c;return}i("warning using memory store both cookies and localStorage are disabled");this._storage=u};f.prototype.storage=function(){return this._storage};f.prototype.options=function(t){if(arguments.length===0)return this._options;this._options=a(t||{},this.defaults||{})};f.prototype.id=function(t){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(t);default:}};f.prototype._getId=function(){var t=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return t===undefined?null:t};f.prototype._setId=function(t){if(this._options.persist){this.storage().set(this._options.cookie.key,t)}else{this._id=t}};f.prototype.properties=f.prototype.traits=function(t){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(t);default:}};f.prototype._getTraits=function(){var t=this._options.persist?c.get(this._options.localStorage.key):this._traits;return t?p(n(t)):{}};f.prototype._setTraits=function(t){t=t||{};if(this._options.persist){c.set(this._options.localStorage.key,t)}else{this._traits=t}};f.prototype.identify=function(t,e){e=e||{};var r=this.id();if(r===null||r===t)e=s(this.traits(),e);if(t)this.id(t);this.debug("identify %o, %o",t,e);this.traits(e);this.save()};f.prototype.save=function(){if(!this._options.persist)return false;o.set(this._options.cookie.key,this.id());c.set(this._options.localStorage.key,this.traits());return true};f.prototype.logout=function(){this.id(null);this.traits({});o.remove(this._options.cookie.key);c.remove(this._options.localStorage.key)};f.prototype.reset=function(){this.logout();this.options({})};f.prototype.load=function(){this.id(o.get(this._options.cookie.key));this.traits(c.get(this._options.localStorage.key))}},{clone:12,"./cookie":13,debug:14,defaults:15,extend:73,"./memory":21,"./store":28,"isodate-traverse":38}],73:[function(t,e,r){e.exports=function n(t){var e=Array.prototype.slice.call(arguments,1);for(var r=0,n;n=e[r];r++){if(!n)continue;for(var o in n){t[o]=n[o]}}return t}},{}],21:[function(t,e,r){var n=t("bind");var o=t("clone");var i=Object.prototype.hasOwnProperty;e.exports=n.all(new a);function a(){this.store={}}a.prototype.set=function(t,e){this.store[t]=o(e);return true};a.prototype.get=function(t){if(!i.call(this.store,t))return;return o(this.store[t])};a.prototype.remove=function(t){delete this.store[t];return true}},{bind:10,clone:12}],28:[function(t,e,r){var n=t("bind");var o=t("defaults");var i=t("store.js");function a(t){this.options(t)}a.prototype.options=function(t){if(arguments.length===0)return this._options;t=t||{};o(t,{enabled:true});this.enabled=t.enabled&&i.enabled;this._options=t};a.prototype.set=function(t,e){if(!this.enabled)return false;return i.set(t,e)};a.prototype.get=function(t){if(!this.enabled)return null;return i.get(t)};a.prototype.remove=function(t){if(!this.enabled)return false;return i.remove(t)};e.exports=n.all(new a);e.exports.Store=a},{bind:10,defaults:15,"store.js":74}],74:[function(t,e,r){var n=t("json"),o={},i=window,a=i.document,s="localStorage",u="__storejs__",c;o.disabled=false;o.set=function(t,e){};o.get=function(t){};o.remove=function(t){};o.clear=function(){};o.transact=function(t,e,r){var n=o.get(t);if(r==null){r=e;e=null}if(typeof n=="undefined"){n=e||{}}r(n);o.set(t,n)};o.getAll=function(){};o.serialize=function(t){return n.stringify(t)};o.deserialize=function(t){if(typeof t!="string"){return undefined}try{return n.parse(t)}catch(e){return t||undefined}};function p(){try{return s in i&&i[s]}catch(t){return false}}if(p()){c=i[s];o.set=function(t,e){if(e===undefined){return o.remove(t)}c.setItem(t,o.serialize(e));return e};o.get=function(t){return o.deserialize(c.getItem(t))};o.remove=function(t){c.removeItem(t)};o.clear=function(){c.clear()};o.getAll=function(){var t={};for(var e=0;e<c.length;++e){var r=c.key(e);t[r]=o.get(r)}return t}}else if(a.documentElement.addBehavior){var f,l;try{l=new ActiveXObject("htmlfile");l.open();l.write("<s"+"cript>document.w=window</s"+'cript><iframe src="/favicon.ico"></iframe>');l.close();f=l.w.frames[0].document;c=f.createElement("div")}catch(d){c=a.createElement("div");f=a.body}function h(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(c);f.appendChild(c);c.addBehavior("#default#userData");c.load(s);var r=t.apply(o,e);f.removeChild(c);return r}}var v=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function y(t){return t.replace(v,"___")}o.set=h(function(t,e,r){e=y(e);if(r===undefined){return o.remove(e)}t.setAttribute(e,o.serialize(r));t.save(s);return r});o.get=h(function(t,e){e=y(e);return o.deserialize(t.getAttribute(e))});o.remove=h(function(t,e){e=y(e);t.removeAttribute(e);t.save(s)});o.clear=h(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(s);for(var r=0,n;n=e[r];r++){t.removeAttribute(n.name)}t.save(s)});o.getAll=h(function(t){var e=t.XMLDocument.documentElement.attributes;var r={};for(var n=0,i;i=e[n];++n){var a=y(i.name);r[i.name]=o.deserialize(t.getAttribute(a))}return r})}try{o.set(u,u);if(o.get(u)!=u){o.disabled=true}o.remove(u)}catch(d){o.disabled=true}o.enabled=!o.disabled;e.exports=o},{json:59}],72:[function(t,e,r){e.exports=function(t,e){var r=function(){};r.prototype=e.prototype;t.prototype=new r;t.prototype.constructor=t}},{}],18:[function(t,e,r){var n=t("is-empty");try{var o=t("type")}catch(i){var o=t("component-type")}var a=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var s=0,u;u=a[s];s++)r[u]=c(u);r.fn=r["function"];r.empty=n;r.nan=function(t){return r.number(t)&&t!=t};function c(t){return function(e){return t===o(e)}}},{"is-empty":46,type:47,"component-type":47}],19:[function(t,e,r){e.exports=function n(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return true;var e=t.which,r=t.button;if(!e&&r!==undefined){return!r&1&&!r&2&&r&4}else if(e===2){return true}return false}},{}],20:[function(t,e,r){var n=Object.prototype.hasOwnProperty;r.keys=Object.keys||function(t){var e=[];for(var r in t){if(n.call(t,r)){e.push(r)}}return e};r.values=function(t){var e=[];for(var r in t){if(n.call(t,r)){e.push(t[r])}}return e};r.merge=function(t,e){for(var r in e){if(n.call(e,r)){t[r]=e[r]}}return t};r.length=function(t){return r.keys(t).length};r.isEmpty=function(t){return 0==r.length(t)}},{}],22:[function(t,e,r){var n=t("debug")("analytics.js:normalize");var o=t("defaults");var i=t("each");var a=t("includes");var s=t("is");var u=t("component/map");var c=Object.prototype.hasOwnProperty;e.exports=f;var p=["integrations","anonymousId","timestamp","context"];function f(t,e){var r=u(e,function(t){return t.toLowerCase()});var f=t.options||{};var l=f.integrations||{};var d=f.providers||{};var h=f.context||{};var v={};n("<-",t);i(f,function(t,e){if(!y(t))return;if(!c.call(l,t))l[t]=e;delete f[t]});delete f.providers;i(d,function(t,e){if(!y(t))return;if(s.object(l[t]))return;if(c.call(l,t)&&typeof d[t]==="boolean")return;l[t]=e});i(f,function(t){if(a(t,p)){v[t]=f[t]}else{h[t]=f[t]}});delete t.options;v.integrations=l;v.context=h;v=o(v,t);n("->",v);return v;function y(t){return!!(a(t,e)||t.toLowerCase()==="all"||a(t.toLowerCase(),r))}}},{debug:14,defaults:15,each:4,includes:75,is:18,"component/map":76}],75:[function(t,e,r){"use strict";var n;try{n=t("@ndhoule/each")}catch(o){n=t("each")}var i=String.prototype.indexOf;var a=function u(t,e){if(t===e){return t!==0||1/t===1/e}return t!==t&&e!==e};var s=function c(t,e){var r=false;if(typeof e==="string"){return i.call(e,t)!==-1}n(function(e){if(a(e,t)){r=true;return false}},e);return r};e.exports=s},{each:69}],76:[function(t,e,r){var n=t("to-function");e.exports=function(t,e){var r=[];e=n(e);for(var o=0;o<t.length;++o){r.push(e(t[o],o))}return r}},{"to-function":77}],77:[function(t,e,r){var n;try{n=t("props")}catch(o){n=t("component-props")}e.exports=i;function i(t){switch({}.toString.call(t)){case"[object Object]":return c(t);case"[object Function]":return t;case"[object String]":return u(t);case"[object RegExp]":return s(t);default:return a(t)}}function a(t){return function(e){return t===e}}function s(t){return function(e){return t.test(e)}}function u(t){if(/^ *\W+/.test(t))return new Function("_","return _ "+t);return new Function("_","return "+p(t))}function c(t){var e={};for(var r in t){e[r]=typeof t[r]==="string"?a(t[r]):i(t[r])}return function(t){if(typeof t!=="object")return false;for(var r in e){if(!(r in t))return false;if(!e[r](t[r]))return false}return true}}function p(t){var e=n(t);if(!e.length)return"_."+t;var r,o,i;for(o=0;o<e.length;o++){i=e[o];r="_."+i;r="('function' == typeof "+r+" ? "+r+"() : "+r+")";t=f(i,t,r)}return t}function f(t,e,r){return e.replace(new RegExp("(\\.)?"+t,"g"),function(t,e){return e?t:r})}},{props:78,"component-props":78}],78:[function(t,e,r){var n=/\b(this|Array|Date|Object|Math|JSON)\b/g;e.exports=function(t,e){var r=a(o(t));if(e&&"string"==typeof e)e=s(e);if(e)return i(t,r,e);return r};function o(t){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(n,"").match(/[$a-zA-Z_]\w*/g)||[]}function i(t,e,r){var n=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return t.replace(n,function(t){if("("==t[t.length-1])return r(t);if(!~e.indexOf(t))return t;return r(t)})}function a(t){var e=[];for(var r=0;r<t.length;r++){if(~e.indexOf(t[r]))continue;e.push(t[r])}return e}function s(t){return function(e){return t+e}}},{}],23:[function(t,e,r){r.bind=function(t,e,r,n){if(t.addEventListener){t.addEventListener(e,r,n||false)}else{t.attachEvent("on"+e,r)}return r};r.unbind=function(t,e,r,n){if(t.removeEventListener){t.removeEventListener(e,r,n||false)}else{t.detachEvent("on"+e,r)}return r}},{}],24:[function(t,e,r){var n=t("canonical");var o=t("includes");var i=t("url");function a(){return{path:s(),referrer:document.referrer,search:location.search,title:document.title,url:u(location.search)}}function s(){var t=n();if(!t)return window.location.pathname;var e=i.parse(t);return e.pathname}function u(t){var e=n();if(e)return o("?",e)?e:e+t;var r=window.location.href;var i=r.indexOf("#");return i===-1?r:r.slice(0,i)}e.exports=a},{canonical:79,includes:75,url:80}],79:[function(t,e,r){e.exports=function n(){var t=document.getElementsByTagName("link");for(var e=0,r;r=t[e];e++){if("canonical"==r.getAttribute("rel"))return r.getAttribute("href")}}},{}],80:[function(t,e,r){r.parse=function(t){var e=document.createElement("a");e.href=t;return{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?n(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:e.pathname.charAt(0)!="/"?"/"+e.pathname:e.pathname,protocol:!e.protocol||":"==e.protocol?location.protocol:e.protocol,search:e.search,query:e.search.slice(1)}};r.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")};r.isRelative=function(t){return!r.isAbsolute(t)};r.isCrossDomain=function(t){t=r.parse(t);var e=r.parse(window.location.href);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol};function n(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}},{}],25:[function(t,e,r){"use strict";var n=Object.prototype.toString;var o=function(t){return t!=null};var i=function(t){return n.call(t)==="[object Array]"};var a=function(t){return typeof t==="string"||n.call(t)==="[object String]"};var s=function(t){return t!=null&&typeof t==="object"};var u=function c(t,e){if(!o(e)||!s(e)){return{}}if(a(t)){t=[t]}if(!i(t)){t=[]}var r={};for(var n=0;n<t.length;n+=1){if(a(t[n])&&t[n]in e){r[t[n]]=e[t[n]]}}return r};e.exports=u},{}],26:[function(t,e,r){e.exports=function(t){t=t||window.event;return t.preventDefault?t.preventDefault():t.returnValue=false}},{}],27:[function(t,e,r){var n=t("trim");var o=t("type");var i=/(\w+)\[(\d+)\]/;var a=function(t){try{return encodeURIComponent(t)}catch(e){return t}};var s=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}};r.parse=function(t){if("string"!=typeof t)return{};t=n(t);if(""==t)return{};if("?"==t.charAt(0))t=t.slice(1);var e={};var r=t.split("&");for(var o=0;o<r.length;o++){var a=r[o].split("=");var u=s(a[0]);var c;if(c=i.exec(u)){e[c[1]]=e[c[1]]||[];e[c[1]][c[2]]=s(a[1]);continue}e[a[0]]=null==a[1]?"":s(a[1])}return e};r.stringify=function(t){if(!t)return"";var e=[];for(var r in t){var n=t[r];if("array"==o(n)){for(var i=0;i<n.length;++i){e.push(a(r+"["+i+"]")+"="+a(n[i]))}continue}e.push(a(r)+"="+a(t[r]))}return e.join("&")}},{trim:54,type:81}],81:[function(t,e,r){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}if(t===null)return"null";if(t===undefined)return"undefined";if(t!==t)return"nan";if(t&&t.nodeType===1)return"element";t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t);return typeof t}},{}],29:[function(t,e,r){var n=t("./entity");var o=t("bind");var i=t("./cookie");var a=t("debug")("analytics:user");var s=t("inherit");var u=t("cookie");var c=t("uuid");p.defaults={persist:true,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}};function p(t){this.defaults=p.defaults;this.debug=a;n.call(this,t)}s(p,n);p.prototype.id=function(t){var e=this._getId();var r=n.prototype.id.apply(this,arguments);if(e==null)return r;if(e!=t&&t)this.anonymousId(null);return r};p.prototype.anonymousId=function(t){var e=this.storage();if(arguments.length){e.set("ajs_anonymous_id",t);return this}t=e.get("ajs_anonymous_id");if(t){return t}t=u("_sio");if(t){t=t.split("----")[0];e.set("ajs_anonymous_id",t);e.remove("_sio");return t}t=c();e.set("ajs_anonymous_id",t);return e.get("ajs_anonymous_id")};p.prototype.logout=function(){n.prototype.logout.call(this);this.anonymousId(null)};p.prototype.load=function(){if(this._loadOldCookie())return;n.prototype.load.call(this)};p.prototype._loadOldCookie=function(){var t=i.get(this._options.cookie.oldKey);if(!t)return false;this.id(t.id);this.traits(t.traits);i.remove(this._options.cookie.oldKey);return true};e.exports=o.all(new p);e.exports.User=p},{"./entity":71,bind:10,"./cookie":13,debug:14,inherit:72,cookie:58,uuid:82}],82:[function(t,e,r){e.exports=function n(t){return t?(t^Math.random()*16>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n)}},{}],6:[function(t,e,r){e.exports={name:"analytics-core",version:"2.11.1",main:"analytics.js",dependencies:{},devDependencies:{}}},{}],3:[function(t,e,r){e.exports={"google-analytics":t("analytics.js-integration-google-analytics"),trekkie:t("../trekkie/integration/trekkie.js"),"reports-tracking":t("../trekkie/integration/reports-tracking.js"),performance:t("../trekkie/integration/performance.js")}},{"analytics.js-integration-google-analytics":83,"../trekkie/integration/trekkie.js":84,"../trekkie/integration/reports-tracking.js":85,"../trekkie/integration/performance.js":86}],83:[function(t,e,r){var n=t("facade").Track;var o=t("defaults");var i=t("obj-case");var a=t("each");var s=t("analytics.js-integration");var u=t("is");var c=t("object").keys;var p=t("object").length;var f=t("global-queue")("_gaq");var l=t("select");var d=t("use-https");var h;e.exports=r=function(t){t.addIntegration(v);h=t.user()};var v=r.Integration=s("Google Analytics").readyOnLoad().global("ga").global("gaplugins").global("_gaq").global("GoogleAnalyticsObject").option("anonymizeIp",false).option("classic",false).option("dimensions",{}).option("domain","auto").option("doubleClick",false).option("enhancedEcommerce",false).option("enhancedLinkAttribution",false).option("ignoredReferrers",null).option("includeSearch",false).option("metrics",{}).option("nonInteraction",false).option("sendUserId",false).option("siteSpeedSampleRate",1).option("trackCategorizedPages",true).option("trackNamedPages",true).option("trackingId","").tag("library",'<script src="//www.google-analytics.com/analytics.js">').tag("double click",'<script src="//stats.g.doubleclick.net/dc.js">').tag("http",'<script src="http://www.google-analytics.com/ga.js">').tag("https",'<script src="https://ssl.google-analytics.com/ga.js">');v.on("construct",function(t){if(t.options.classic){t.initialize=t.initializeClassic;t.loaded=t.loadedClassic;t.page=t.pageClassic;t.track=t.trackClassic;t.completedOrder=t.completedOrderClassic}else if(t.options.enhancedEcommerce){t.viewedProduct=t.viewedProductEnhanced;t.clickedProduct=t.clickedProductEnhanced;t.addedProduct=t.addedProductEnhanced;t.removedProduct=t.removedProductEnhanced;t.startedOrder=t.startedOrderEnhanced;t.viewedCheckoutStep=t.viewedCheckoutStepEnhanced;t.completedCheckoutStep=t.completedCheckoutStepEnhanced;t.updatedOrder=t.updatedOrderEnhanced;t.completedOrder=t.completedOrderEnhanced;t.refundedOrder=t.refundedOrderEnhanced;t.viewedPromotion=t.viewedPromotionEnhanced;t.clickedPromotion=t.clickedPromotionEnhanced}});v.prototype.initialize=function(){var t=this.options;window.GoogleAnalyticsObject="ga";window.ga=window.ga||function(){window.ga.q=window.ga.q||[];window.ga.q.push(arguments)};window.ga.l=(new Date).getTime();if(window.location.hostname==="localhost")t.domain="none";window.ga("create",t.trackingId,{cookieDomain:t.domain||v.prototype.defaults.domain,siteSpeedSampleRate:t.siteSpeedSampleRate,allowLinker:true});if(t.doubleClick){window.ga("require","displayfeatures")}if(t.sendUserId&&h.id()){window.ga("set","userId",h.id())}if(t.anonymizeIp)window.ga("set","anonymizeIp",true);var e=g(h.traits(),t);if(p(e))window.ga("set",e);this.load("library",this.ready)};v.prototype.loaded=function(){return!!window.gaplugins};v.prototype.page=function(t){var e=t.category();var r=t.properties();var n=t.fullName();var o=this.options;var i=t.proxy("context.campaign")||{};var a={};var s=y(r,this.options);var u=n||r.title;var c;this._category=e;a.page=s;a.title=u;a.location=r.url;if(i.name)a.campaignName=i.name;if(i.source)a.campaignSource=i.source;if(i.medium)a.campaignMedium=i.medium;if(i.content)a.campaignContent=i.content;if(i.term)a.campaignKeyword=i.term;var f=g(r,o);if(p(f))window.ga("set",f);window.ga("set",{page:s,title:u});window.ga("send","pageview",a);if(e&&this.options.trackCategorizedPages){c=t.track(e);this.track(c,{nonInteraction:1})}if(n&&this.options.trackNamedPages){c=t.track(n);this.track(c,{nonInteraction:1})}};v.prototype.identify=function(t){var e=this.options;if(e.sendUserId&&t.userId()){window.ga("set","userId",t.userId())}var r=g(h.traits(),e);if(p(r))window.ga("set",r)};v.prototype.track=function(t,e){var r=t.options(this.name);var n=this.options;var i=o(e||{},r);i=o(i,n);var a=t.properties();var s=t.proxy("context.campaign")||{};var u=g(a,n);if(p(u))window.ga("set",u);var c={eventAction:t.event(),eventCategory:a.category||this._category||"All",eventLabel:a.label,eventValue:m(a.value||t.revenue()),nonInteraction:!!(a.nonInteraction||i.nonInteraction)};if(s.name)c.campaignName=s.name;if(s.source)c.campaignSource=s.source;if(s.medium)c.campaignMedium=s.medium;if(s.content)c.campaignContent=s.content;if(s.term)c.campaignKeyword=s.term;
window.ga("send","event",c)};v.prototype.completedOrder=function(t){var e=t.total()||t.revenue()||0;var r=t.orderId();var n=t.products();var o=t.properties();if(!r)return;if(!this.ecommerce){window.ga("require","ecommerce");this.ecommerce=true}window.ga("ecommerce:addTransaction",{affiliation:o.affiliation,shipping:t.shipping(),revenue:e,tax:t.tax(),id:r,currency:t.currency()});a(n,function(e){var n=k(t,e);window.ga("ecommerce:addItem",{category:n.category(),quantity:n.quantity(),price:n.price(),name:n.name(),sku:n.sku(),id:r,currency:n.currency()})});window.ga("ecommerce:send")};v.prototype.initializeClassic=function(){var t=this.options;var e=t.anonymizeIp;var r=t.domain;var n=t.enhancedLinkAttribution;var o=t.ignoredReferrers;var i=t.siteSpeedSampleRate;window._gaq=window._gaq||[];f("_setAccount",t.trackingId);f("_setAllowLinker",true);if(e)f("_gat._anonymizeIp");if(r)f("_setDomainName",r);if(i)f("_setSiteSpeedSampleRate",i);if(n){var s=document.location.protocol==="https:"?"https:":"http:";var c=s+"//www.google-analytics.com/plugins/ga/inpage_linkid.js";f("_require","inpage_linkid",c)}if(o){if(!u.array(o))o=[o];a(o,function(t){f("_addIgnoredRef",t)})}if(this.options.doubleClick){this.load("double click",this.ready)}else{var p=d()?"https":"http";this.load(p,this.ready)}};v.prototype.loadedClassic=function(){return!!(window._gaq&&window._gaq.push!==Array.prototype.push)};v.prototype.pageClassic=function(t){var e=t.category();var r=t.properties();var n=t.fullName();var o;f("_trackPageview",y(r,this.options));if(e&&this.options.trackCategorizedPages){o=t.track(e);this.track(o,{nonInteraction:1})}if(n&&this.options.trackNamedPages){o=t.track(n);this.track(o,{nonInteraction:1})}};v.prototype.trackClassic=function(t,e){var r=e||t.options(this.name);var n=t.properties();var o=t.revenue();var i=t.event();var a=this._category||n.category||"All";var s=n.label;var u=m(o||n.value);var c=!!(n.nonInteraction||r.nonInteraction);f("_trackEvent",a,i,s,u,c)};v.prototype.completedOrderClassic=function(t){var e=t.total()||t.revenue()||0;var r=t.orderId();var o=t.products()||[];var i=t.properties();var s=t.currency();if(!r)return;f("_addTrans",r,i.affiliation,e,t.tax(),t.shipping(),t.city(),t.state(),t.country());a(o,function(t){var e=new n({properties:t});f("_addItem",r,e.sku(),e.name(),e.category(),e.price(),e.quantity())});f("_set","currencyCode",s);f("_trackTrans")};function y(t,e){if(!t)return;var r=t.path;if(e.includeSearch&&t.search)r+=t.search;return r}function m(t){if(!t||t<0)return 0;return Math.round(t)}function g(t,e){var r=e.dimensions;var n=e.metrics;var o=c(n).concat(c(r));var a={};for(var s=0;s<o.length;++s){var u=o[s];var p=n[u]||r[u];var f=i(t,u)||t[u];if(f==null)continue;a[p]=f}return a}v.prototype.loadEnhancedEcommerce=function(t){if(!this.enhancedEcommerceLoaded){window.ga("require","ec");this.enhancedEcommerceLoaded=true}window.ga("set","&cu",t.currency())};v.prototype.pushEnhancedEcommerce=function(t){window.ga("send","event",t.category()||"EnhancedEcommerce",t.event(),{nonInteraction:1})};v.prototype.startedOrderEnhanced=function(t){this.viewedCheckoutStep(t)};v.prototype.updatedOrderEnhanced=function(t){this.startedOrderEnhanced(t)};v.prototype.viewedCheckoutStepEnhanced=function(t){var e=t.products();var r=t.properties();var n=x(r);this.loadEnhancedEcommerce(t);a(e,function(e){var r=k(t,e);w(r)});window.ga("ec:setAction","checkout",{step:r.step||1,option:n||undefined});this.pushEnhancedEcommerce(t)};v.prototype.completedCheckoutStepEnhanced=function(t){var e=t.properties();var r=x(e);if(!e.step||!r)return;this.loadEnhancedEcommerce(t);window.ga("ec:setAction","checkout_option",{step:e.step||1,option:r});window.ga("send","event","Checkout","Option")};v.prototype.completedOrderEnhanced=function(t){var e=t.total()||t.revenue()||0;var r=t.orderId();var n=t.products();var o=t.properties();if(!r)return;this.loadEnhancedEcommerce(t);a(n,function(e){var r=k(t,e);w(r)});window.ga("ec:setAction","purchase",{id:r,affiliation:o.affiliation,revenue:e,tax:t.tax(),shipping:t.shipping(),coupon:t.coupon()});this.pushEnhancedEcommerce(t)};v.prototype.refundedOrderEnhanced=function(t){var e=t.orderId();var r=t.products();if(!e)return;this.loadEnhancedEcommerce(t);a(r,function(t){var e=new n({properties:t});window.ga("ec:addProduct",{id:e.id()||e.sku(),quantity:e.quantity()})});window.ga("ec:setAction","refund",{id:e});this.pushEnhancedEcommerce(t)};v.prototype.addedProductEnhanced=function(t){this.loadEnhancedEcommerce(t);b(t,"add");this.pushEnhancedEcommerce(t)};v.prototype.removedProductEnhanced=function(t){this.loadEnhancedEcommerce(t);b(t,"remove");this.pushEnhancedEcommerce(t)};v.prototype.viewedProductEnhanced=function(t){this.loadEnhancedEcommerce(t);b(t,"detail");this.pushEnhancedEcommerce(t)};v.prototype.clickedProductEnhanced=function(t){var e=t.properties();this.loadEnhancedEcommerce(t);b(t,"click",{list:e.list});this.pushEnhancedEcommerce(t)};v.prototype.viewedPromotionEnhanced=function(t){var e=t.properties();this.loadEnhancedEcommerce(t);window.ga("ec:addPromo",{id:t.id(),name:t.name(),creative:e.creative,position:e.position});this.pushEnhancedEcommerce(t)};v.prototype.clickedPromotionEnhanced=function(t){var e=t.properties();this.loadEnhancedEcommerce(t);window.ga("ec:addPromo",{id:t.id(),name:t.name(),creative:e.creative,position:e.position});window.ga("ec:setAction","promo_click",{});this.pushEnhancedEcommerce(t)};function w(t){var e=t.properties();window.ga("ec:addProduct",{id:t.id()||t.sku(),name:t.name(),category:t.category(),quantity:t.quantity(),price:t.price(),brand:e.brand,variant:e.variant,currency:t.currency()})}function b(t,e,r){w(t);window.ga("ec:setAction",e,r||{})}function x(t){var e=[t.paymentMethod,t.shippingMethod];var r=l(e,function(t){return t});return r.length>0?r.join(", "):null}function k(t,e){e.currency=e.currency||t.currency();return new n({properties:e})}},{facade:8,defaults:87,"obj-case":42,each:4,"analytics.js-integration":88,is:18,object:20,"global-queue":89,select:90,"use-https":91}],87:[function(t,e,r){e.exports=n;function n(t,e){for(var r in e){if(!(r in t)){t[r]=e[r]}}return t}},{}],88:[function(t,e,r){var n=t("bind");var o=t("clone");var i=t("debug");var a=t("defaults");var s=t("extend");var u=t("slug");var c=t("./protos");var p=t("./statics");function f(t){function e(r){if(r&&r.addIntegration){return r.addIntegration(e)}this.debug=i("analytics:integration:"+u(t));this.options=a(o(r)||{},this.defaults);this._queue=[];this.once("ready",n(this,this.flush));e.emit("construct",this);this.ready=n(this,this.ready);this._wrapInitialize();this._wrapPage();this._wrapTrack()}e.prototype.defaults={};e.prototype.globals=[];e.prototype.templates={};e.prototype.name=t;s(e,p);s(e.prototype,c);return e}e.exports=f},{bind:92,clone:12,debug:93,defaults:15,extend:94,slug:95,"./protos":96,"./statics":97}],92:[function(t,e,r){var n=t("bind"),o=t("bind-all");e.exports=r=n;r.all=o;r.methods=i;function i(t,e){e=[].slice.call(arguments,1);for(var r=0,o;o=e[r];r++){t[o]=n(t,t[o])}return t}},{bind:55,"bind-all":56}],93:[function(t,e,r){if("undefined"==typeof window){e.exports=t("./lib/debug")}else{e.exports=t("./debug")}},{"./lib/debug":98,"./debug":99}],98:[function(t,e,r){var n=t("tty");e.exports=l;var o=[],i=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(t){t=t.replace("*",".*?");if(t[0]==="-"){i.push(new RegExp("^"+t.substr(1)+"$"))}else{o.push(new RegExp("^"+t+"$"))}});var a=[6,2,3,4,5,1];var s={};var u=0;var c=n.isatty(2);function p(){return a[u++%a.length]}function f(t){var e=1e3,r=60*1e3,n=60*r;if(t>=n)return(t/n).toFixed(1)+"h";if(t>=r)return(t/r).toFixed(1)+"m";if(t>=e)return(t/e|0)+"s";return t+"ms"}function l(t){function e(){}e.enabled=false;var r=i.some(function(e){return e.test(t)});if(r)return e;r=o.some(function(e){return e.test(t)});if(!r)return e;var n=p();function a(e){e=d(e);var r=new Date;var o=r-(s[t]||r);s[t]=r;e="  [9"+n+"m"+t+" "+"[3"+n+"m[90m"+e+"[3"+n+"m"+" +"+f(o)+"[0m";console.error.apply(this,arguments)}function u(e){e=d(e);e=(new Date).toUTCString()+" "+t+" "+e;console.error.apply(this,arguments)}a.enabled=u.enabled=true;return c||process.env.DEBUG_COLORS?a:u}function d(t){if(t instanceof Error)return t.stack||t.message;return t}},{}],99:[function(t,e,r){e.exports=n;function n(t){if(!n.enabled(t))return function(){};return function(e){e=o(e);var r=new Date;var i=r-(n[t]||r);n[t]=r;e=t+" "+e+" +"+n.humanize(i);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}}n.names=[];n.skips=[];n.enable=function(t){try{localStorage.debug=t}catch(e){}var r=(t||"").split(/[\s,]+/),o=r.length;for(var i=0;i<o;i++){t=r[i].replace("*",".*?");if(t[0]==="-"){n.skips.push(new RegExp("^"+t.substr(1)+"$"))}else{n.names.push(new RegExp("^"+t+"$"))}}};n.disable=function(){n.enable("")};n.humanize=function(t){var e=1e3,r=60*1e3,n=60*r;if(t>=n)return(t/n).toFixed(1)+"h";if(t>=r)return(t/r).toFixed(1)+"m";if(t>=e)return(t/e|0)+"s";return t+"ms"};n.enabled=function(t){for(var e=0,r=n.skips.length;e<r;e++){if(n.skips[e].test(t)){return false}}for(var e=0,r=n.names.length;e<r;e++){if(n.names[e].test(t)){return true}}return false};function o(t){if(t instanceof Error)return t.stack||t.message;return t}try{if(window.localStorage)n.enable(localStorage.debug)}catch(i){}},{}],94:[function(t,e,r){e.exports=function n(t){var e=Array.prototype.slice.call(arguments,1);for(var r=0,n;n=e[r];r++){if(!n)continue;for(var o in n){t[o]=n[o]}}return t}},{}],95:[function(t,e,r){e.exports=function(t,e){e||(e={});return t.toLowerCase().replace(e.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,e.separator||"-")}},{}],96:[function(t,e,r){var n=t("emitter");var o=t("after");var i=t("each");var a=t("analytics-events");var s=t("fmt");var u=t("foldl");var c=t("load-iframe");var p=t("load-script");var f=t("to-no-case");var l=t("next-tick");var d=t("type");function h(){}var v=Object.prototype.hasOwnProperty;var y=window.onerror;var m=null;var g=window.setInterval;var w=window.setTimeout;n(r);r.initialize=function(){var t=this.ready;l(t)};r.loaded=function(){return false};r.page=function(t){};r.track=function(t){};r.map=function(t,e){var r=f(e);return u(function(t,e,n,o){if(d(o)==="array"){if(!e.key)return t;n=e.key;e=e.value}if(f(n)===r){t.push(e)}return t},[],t)};r.invoke=function(t){if(!this[t])return;var e=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(t,e);var r;try{this.debug("%s with %o",t,e);r=this[t].apply(this,e)}catch(n){this.debug("error %o calling %s with %o",n,t,e)}return r};r.queue=function(t,e){if(t==="page"&&this._assumesPageview&&!this._initialized){return this.page.apply(this,e)}this._queue.push({method:t,args:e})};r.flush=function(){this._ready=true;var t=this;i(this._queue,function(e){t[e.method].apply(t,e.args)});this._queue.length=0};r.reset=function(){for(var t=0;t<this.globals.length;t++){window[this.globals[t]]=undefined}window.setTimeout=w;window.setInterval=g;window.onerror=y;window.onload=m};r.load=function(t,e,r){if(typeof t==="function"){r=t;e=null;t=null}if(t&&typeof t==="object"){r=e;e=t;t=null}if(typeof e==="function"){r=e;e=null}t=t||"library";e=e||{};e=this.locals(e);var n=this.templates[t];if(!n)throw new Error(s('template "%s" not defined.',t));var o=k(n,e);r=r||h;var a=this;var u;switch(n.type){case"img":o.width=1;o.height=1;u=b(o,r);break;case"script":u=p(o,function(t){if(!t)return r();a.debug('error loading "%s" error="%s"',a.name,t)});delete o.src;i(o,function(t,e){u.setAttribute(t,e)});break;case"iframe":u=c(o,r);break;default:}return u};r.locals=function(t){t=t||{};var e=Math.floor((new Date).getTime()/36e5);if(!t.hasOwnProperty("cache"))t.cache=e;i(this.options,function(e,r){if(!t.hasOwnProperty(e))t[e]=r});return t};r.ready=function(){this.emit("ready")};r._wrapInitialize=function(){var t=this.initialize;this.initialize=function(){this.debug("initialize");this._initialized=true;var e=t.apply(this,arguments);this.emit("initialize");return e};if(this._assumesPageview)this.initialize=o(2,this.initialize)};r._wrapPage=function(){var t=this.page;this.page=function(){if(this._assumesPageview&&!this._initialized){return this.initialize.apply(this,arguments)}return t.apply(this,arguments)}};r._wrapTrack=function(){var t=this.track;this.track=function(e){var r=e.event();var n;var o;for(var i in a){if(v.call(a,i)){var s=a[i];if(!this[i])continue;if(!s.test(r))continue;o=this[i].apply(this,arguments);n=true;break}}if(!n)o=t.apply(this,arguments);return o}};function b(t,e){e=e||function(){};var r=new Image;r.onerror=x(e,"failed to load pixel",r);r.onload=function(){e()};r.src=t.src;r.width=1;r.height=1;return r}function x(t,e,r){return function(n){n=n||window.event;var o=new Error(e);o.event=n;o.source=r;t(o)}}function k(t,e){return u(function(t,r,n){t[n]=r.replace(/\{\{\ *(\w+)\ *\}\}/g,function(t,r){return e[r]});return t},{},t.attrs)}},{emitter:7,after:9,each:100,"analytics-events":101,fmt:102,foldl:16,"load-iframe":103,"load-script":104,"to-no-case":105,"next-tick":57,type:106}],100:[function(t,e,r){try{var n=t("type")}catch(o){var n=t("component-type")}var i=t("to-function");var a=Object.prototype.hasOwnProperty;e.exports=function(t,e,r){e=i(e);r=r||this;switch(n(t)){case"array":return c(t,e,r);case"object":if("number"==typeof t.length)return c(t,e,r);return u(t,e,r);case"string":return s(t,e,r)}};function s(t,e,r){for(var n=0;n<t.length;++n){e.call(r,t.charAt(n),n)}}function u(t,e,r){for(var n in t){if(a.call(t,n)){e.call(r,n,t[n])}}}function c(t,e,r){for(var n=0;n<t.length;++n){e.call(r,t[n],n)}}},{type:106,"component-type":106,"to-function":77}],106:[function(t,e,r){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(t===null)return"null";if(t===undefined)return"undefined";if(t&&t.nodeType===1)return"element";if(t===Object(t))return"object";return typeof t}},{}],101:[function(t,e,r){e.exports={removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,refundedOrder:/^[ _]?refunded?[ _]?order[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i}},{}],102:[function(t,e,r){var n=window.JSON?JSON.stringify:function(t){return String(t)};e.exports=o;o.o=n;o.s=String;o.d=parseInt;function o(t){var e=[].slice.call(arguments,1);var r=0;return t.replace(/%([a-z])/gi,function(t,n){return o[n]?o[n](e[r++]):t+n})}},{}],103:[function(t,e,r){var n=t("script-onload");var o=t("next-tick");var i=t("type");e.exports=function a(t,e){if(!t)throw new Error("Cant load nothing...");if("string"==i(t))t={src:t};var r=document.location.protocol==="https:"||document.location.protocol==="chrome-extension:";if(t.src&&t.src.indexOf("//")===0){t.src=r?"https:"+t.src:"http:"+t.src}if(r&&t.https)t.src=t.https;else if(!r&&t.http)t.src=t.http;var a=document.createElement("iframe");a.src=t.src;a.width=t.width||1;a.height=t.height||1;a.style.display="none";if("function"==i(e)){n(a,e)}o(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)});return a}},{"script-onload":107,"next-tick":57,type:47}],107:[function(t,e,r){e.exports=function(t,e){return t.addEventListener?n(t,e):o(t,e)};function n(t,e){t.addEventListener("load",function(t,r){e(null,r)},false);t.addEventListener("error",function(r){var n=new Error('script error "'+t.src+'"');n.event=r;e(n)},false)}function o(t,e){t.attachEvent("onreadystatechange",function(r){if(!/complete|loaded/.test(t.readyState))return;e(null,r)});t.attachEvent("onerror",function(r){var n=new Error('failed to load the script "'+t.src+'"');n.event=r||window.event;e(n)})}},{}],104:[function(t,e,r){var n=t("script-onload");var o=t("next-tick");var i=t("type");e.exports=function a(t,e){if(!t)throw new Error("Cant load nothing...");if("string"==i(t))t={src:t};var r=document.location.protocol==="https:"||document.location.protocol==="chrome-extension:";if(t.src&&t.src.indexOf("//")===0){t.src=r?"https:"+t.src:"http:"+t.src}if(r&&t.https)t.src=t.https;else if(!r&&t.http)t.src=t.http;var a=document.createElement("script");a.type="text/javascript";a.async=true;a.src=t.src;if("function"==i(e)){n(a,e)}o(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)});return a}},{"script-onload":107,"next-tick":57,type:47}],105:[function(t,e,r){e.exports=i;var n=/\s/;var o=/[\W_]/;function i(t){if(n.test(t))return t.toLowerCase();if(o.test(t))return s(t).toLowerCase();return c(t).toLowerCase()}var a=/[\W_]+(.|$)/g;function s(t){return t.replace(a,function(t,e){return e?" "+e:""})}var u=/(.)([A-Z]+)/g;function c(t){return t.replace(u,function(t,e,r){return e+" "+r.toLowerCase().split("").join(" ")})}},{}],97:[function(t,e,r){var n=t("emitter");var o=t("domify");var i=t("each");var a=t("includes");n(r);r.option=function(t,e){this.prototype.defaults[t]=e;return this};r.mapping=function(t){this.option(t,[]);this.prototype[t]=function(e){return this.map(this.options[t],e)};return this};r.global=function(t){this.prototype.globals.push(t);return this};r.assumesPageview=function(){this.prototype._assumesPageview=true;return this};r.readyOnLoad=function(){this.prototype._readyOnLoad=true;return this};r.readyOnInitialize=function(){this.prototype._readyOnInitialize=true;return this};r.tag=function(t,e){if(e==null){e=t;t="library"}this.prototype.templates[t]=s(e);return this};function s(t){t=t.replace(' src="',' data-src="');var e=o(t);var r={};i(e.attributes,function(e){var n=e.name==="data-src"?"src":e.name;if(!a(e.name+"=",t))return;r[n]=e.value});return{type:e.tagName.toLowerCase(),attrs:r}}},{emitter:7,domify:108,each:100,includes:75}],108:[function(t,e,r){e.exports=a;var n=document.createElement("div");n.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var o=!n.getElementsByTagName("link").length;n=undefined;var i={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];i.option=i.optgroup=[1,'<select multiple="multiple">',"</select>"];i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","</table>"];i.polyline=i.ellipse=i.polygon=i.circle=i.text=i.line=i.path=i.rect=i.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function a(t,e){if("string"!=typeof t)throw new TypeError("String expected");if(!e)e=document;var r=/<([\w:]+)/.exec(t);if(!r)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var n=r[1];if(n=="body"){var o=e.createElement("html");o.innerHTML=t;return o.removeChild(o.lastChild)}var a=i[n]||i._default;var s=a[0];var u=a[1];var c=a[2];var o=e.createElement("div");o.innerHTML=u+t+c;while(s--)o=o.lastChild;if(o.firstChild==o.lastChild){return o.removeChild(o.firstChild)}var p=e.createDocumentFragment();while(o.firstChild){p.appendChild(o.removeChild(o.firstChild))}return p}},{}],89:[function(t,e,r){e.exports=n;function n(t,e){e=e||{};return function(r){r=[].slice.call(arguments);window[t]||(window[t]=[]);e.wrap===false?window[t].push.apply(window[t],r):window[t].push(r)}}},{}],90:[function(t,e,r){var n=t("to-function");e.exports=function(t,e){var r=[];e=n(e);for(var o=0;o<t.length;++o){if(e(t[o],o)){r.push(t[o])}}return r}},{"to-function":77}],91:[function(t,e,r){e.exports=function(t){switch(arguments.length){case 0:return o();case 1:return n(t)}};function n(t){return o()?"https:"+t:"http:"+t}function o(){return location.protocol=="https:"||location.protocol=="chrome-extension:"}},{}],84:[function(t,e,r){var n=t("analytics.js-integration");var o=t("./../trekkie.js");var i=e.exports=n("Trekkie").option("appName").option("environment","production").option("navigationTimingApiMeasurementsEnabled",false).option("navigationTimingApiMeasurementsSampleRate",.5).option("defaultAttributes",{});i.prototype.initialize=function(){this.trekkie=new o(this.options.appName,this._merge(this.options.defaultAttributes,{environment:this.options.environment}));var t={};if(typeof this.analytics.user!==undefined){t=this._merge(t,this.analytics.user().traits())}t=this._merge(t,{visitToken:this.trekkie.defaultAttributes.visitToken,uniqToken:this.trekkie.defaultAttributes.uniqToken});this.analytics.identify(null,t);this.ready()};i.prototype.identify=function(t){var e=this._merge(t.traits(),{id:t.userId()});this.trekkie.emit("identify",e)};i.prototype.track=function(t){var e=this._merge(t.properties(),{event:t.event()});this.trekkie.emit("track",e)};i.prototype.page=function(t){var e=this._merge(t.properties(),{category:t.category(),name:t.name()});this.trekkie.emit("page",e)};i.prototype.alias=function(t){var e={id:t.userId(),token:t.previousId()};this.trekkie.emit("alias",e)};i.prototype._merge=function(t,e){var r=function(t,e){for(var r in e){t[r]=e[r]}return t};var n=r({},t);return r(n,e)}},{"analytics.js-integration":88,"./../trekkie.js":109}],109:[function(t,e,r){"use strict";var n=t("./lib/token.js");var o=t("./lib/request.js");var i=t("./lib/events.js");var a="production";function s(t,e){if(!t){throw"appName argument is required to initialize Trekkie."}this.appName=t;e=!e?{}:e;this.environment=e["environment"]||a;delete e["environment"];this.defaultAttributes=this._merge(e,{hasUniqCookie:n.hasUniqCookie()?1:0,hasVisitCookie:n.hasVisitCookie()?1:0,visitToken:n.visitToken(),uniqToken:n.uniqToken(),microSessionId:n.buildUniqToken(),microSessionCount:0,appName:t});this.request=o}s.prototype.emit=function(t,e){this.defaultAttributes["microSessionCount"]=this.defaultAttributes["microSessionCount"]+1;var r=this._merge(this.defaultAttributes,this._sanitize(e));r=this._merge(r,i.additionalParamsFromEvent(e.event));if(this.environment===a){return this.request.load(this.appName,t,r)}else{console.log("Logging trekkie "+t+" event to "+this.appName+" with:");console.log(r)}};s.prototype._sanitize=function(t){var e={};for(var r in t){if(t[r]){e[r]=t[r]}}return e};s.prototype._merge=function(t,e){var r=function(t,e){for(var r in e){t[r]=e[r]}return t};var n=r({},t);return r(n,e)};e.exports=s},{"./lib/token.js":110,"./lib/request.js":111,"./lib/events.js":112}],110:[function(t,e,r){"use strict";var n=t("./cookie.js");var o=t("./store.js");var i="_s";var a="_y";var s="_shopify_s";var u="_shopify_y";var c="xxxxxxxx-xxxx-4xxx-xxxx";var p={_uniqueId:{fetch:function(t,e){var r={permanent:t};var i=n.read(e);var a=o.read(e,r);return i||a},fetchOrSet:function(t){var e=!!t?a:i;var r=!!t?u:s;var c=(!!t&&window._visit!==undefined?window._visit.multitrackToken():null)||p._uniqueId.fetch(t,e)||p._uniqueId.fetch(t,r)||p._uniqueId.build();var f={permanent:t};n.write(r,c,f);o.write(r,c,f);return c},generateWeakUUID:function(){return c.replace(/[x]/g,function(t){var e=Math.random()*16|0,r=t==="x"?e:e&3|8;return r.toString(16)}).toUpperCase()},generateStrongUUID:function(t){var e=0;return c.replace(/[x]/g,function(r){var n=t[e]%16,o=r==="x"?n:n&3|8;e++;return o.toString(16)}).toUpperCase()},build:function(){try{var t=window.crypto||window.msCrypto;var e=new Uint16Array(19);t.getRandomValues(e);return p._uniqueId.generateStrongUUID(e)}catch(r){return p._uniqueId.generateWeakUUID()}}},hasShortTerm:function(){return!!n.read(s)||!!n.read(i)},hasLongTerm:function(){return!!n.read(u)||!!n.read(a)},shortTerm:function(){return p._uniqueId.fetchOrSet(false)},longTerm:function(){return p._uniqueId.fetchOrSet(true)}};r.visitToken=p.shortTerm;r.uniqToken=p.longTerm;r.hasUniqCookie=p.hasLongTerm;r.hasVisitCookie=p.hasShortTerm;r.buildUniqToken=p._uniqueId.build},{"./cookie.js":113,"./store.js":114}],113:[function(t,e,r){"use strict";var n=t("cookie");var o=t("./utils.js");var i=1e3*60*30;var a=1e3*60*60*24*360*2;var s="shopify";var u=".shopify.com";var c=".myshopify.com";var p={read:function(t){return n(t)},writeForDomain:function(t,e,r,o){var i={maxage:p._maxage(r),domain:o};n(t,e,i)},write:function(t,e,r){r=!r?{}:r;p.writeForDomain(t,e,r["permanent"],p.shopifyCookieDomain(window.location.hostname));p.writeForDomain(t,e,r["permanent"],c);p.writeForDomain(t,e,r["permanent"],r["domain"])},_maxage:function(t){return t?a:i},shopifyCookieDomain:function(t){var e=t.indexOf(s);if(e!==-1){if(o.startsWith(t,s)){return"."+t}else{return t.slice(e-1)}}else{return u}}};r.read=p.read;r.write=p.write;r.shopifyCookieDomain=p.shopifyCookieDomain},{cookie:65,"./utils.js":115}],115:[function(t,e,r){"use strict";var n={startsWith:function(t,e){return t.indexOf(e)===0}};r.startsWith=n.startsWith},{}],114:[function(t,e,r){"use strict";var n={_storeType:function(t){t=!t?{}:t;return t.permanent?window.localStorage:window.sessionStorage},_isAvailable:function(t){try{t.setItem("t","t");var e=t.getItem("t");t.removeItem("t");return"t"===e}catch(r){return false}},read:function(t,e){var r=n._storeType(e);return n._isAvailable(r)?r.getItem(t):null},write:function(t,e,r){var o=n._storeType(r);return n._isAvailable(o)?o.setItem(t,e):null}};r.read=n.read;r.write=n.write},{}],111:[function(t,e,r){"use strict";var n="https://v.shopify.com/:app/:type";var o=t("load-pixel")(n);var i=t("querystring").parse;var a={load:function(t,e,r){return o(r,{app:t,type:e},a._error)},_error:function(t){if(t&&t["event"]===window.event){var e=t.source.src.split("?");var r=e[0].split(".com/")[1].split("/");var n=r[0];var a=r[1];var s=i(e[1]);var u={};if(s["event"]){u["event"]=s["event"]}if(s["url"]){u["url"]=s["url"]}u["truncated"]=true;return o(u,{app:n,type:a})}}};r.load=a.load},{"load-pixel":116,querystring:27}],116:[function(t,e,r){var n=t("querystring").stringify;var o=t("substitute");e.exports=function(t){return function(e,r,a){if("function"==typeof r)a=r,r={};r=r||{};a=a||function(){};var s=o(t,r);var u=new Image;u.onerror=i(a,"failed to load pixel",u);u.onload=function(){a()};e=n(e);if(e)e="?"+e;u.src=s+e;u.width=1;u.height=1;return u}};function i(t,e,r){return function(n){n=n||window.event;var o=new Error(e);o.event=n;o.source=r;t(o)}}},{querystring:27,substitute:117}],117:[function(t,e,r){e.exports=o;var n=Object.prototype.toString;function o(t,e,r){if(!e)throw new TypeError("expected an object");r=r||/:(\w+)/g;return t.replace(r,function(t,r){switch(n.call(e)){case"[object Object]":return null!=e[r]?e[r]:t;case"[object Array]":var o=e.shift();return null!=o?o:t}})}},{}],112:[function(t,e,r){"use strict";var n={"Viewed Product":{resourceType:"product",pageType:"product"},"Added Product":{eventType:"add_to_cart",resourceType:"product",pageType:"cart"},"Removed Product":{eventType:"remove_from_cart",resourceType:"product",pageType:"cart"},"Viewed Cart":{pageType:"cart"},"Cleared Cart":{eventType:"clear_cart",pageType:"cart"},"Viewed Product Category":{resourceType:"collection",pageType:"collection"},"Viewed Collections":{pageType:"collections"}};r.additionalParamsFromEvent=function(t){var e=n[t];var r={};for(var o in e){if(e.hasOwnProperty(o)){r[o]=e[o]}}return r}},{}],85:[function(t,e,r){var n=t("analytics.js-integration");var o=e.exports=n("ReportsTracking").option("shopId",null).option("timezoneOffset",null).option("requestId",null).option("pageUrl",null).option("uniqId",null).option("subject",null).option("tag",null).option("customerId",null).option("page",null).option("resourceType",null).option("resourceID",null).tag('<script src="cdn.shopify.com/s/javascripts/shopify_stats.js?v=6">');var i={shopId:"a",timezoneOffset:"offset",requestId:"reqid",pageUrl:"pageurl",uniqId:"u",subject:"s",tag:"t",customerId:"cid",page:"p",resourceType:"rtyp",resourceID:"rid"};o.prototype.initialize=function(){var t={};for(var e in i){if(this.options.hasOwnProperty(e)&&!!this.options[e]){t[i[e]]=this.options[e]}}window.__st=t;this.load(this.ready)};o.prototype.page=function(){}},{"analytics.js-integration":88}],86:[function(t,e,r){var n=t("analytics.js-integration");var o=t("./../lib/perf.js");var i=e.exports=n("Performance").option("navigationTimingApiMeasurementsEnabled",false).option("navigationTimingApiMeasurementsSampleRate",.5);i.prototype.initialize=function(){this.ready()};i.prototype.page=function(t){var e=this._merge(t.properties(),{category:t.category(),name:t.name()});if(this.options.navigationTimingApiMeasurementsEnabled&&this.options.navigationTimingApiMeasurementsSampleRate>=Math.random()){e=this._merge(o.pagePerfomance(),e);this.analytics.track("navigation_performance_metrics",e)}};i.prototype._merge=function(t,e){var r=function(t,e){for(var r in e){t[r]=e[r]}return t};var n=r({},t);return r(n,e)}},{"analytics.js-integration":88,"./../lib/perf.js":118}],118:[function(t,e,r){"use strict";var n=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];r.perfAttrs=n;r.pagePerfomance=function(){var t=function(){var t=new RegExp("MSIE 9.0|Firefox/7.0|Firefox/8.0");return t.test(window.navigator.userAgent)};var e="nt:";var r={};var o=function(){for(var t=0,o=n.length;t<o;t++){r[e+n[t]]=0}r[e+"valid"]=false};if(window.performance&&window.performance.timing&&!t()){try{for(var i=0,a=n.length;i<a;i++){r[e+n[i]]=window.performance.timing[n[i]]}r[e+"valid"]=true}catch(s){o()}}else{o()}return r}},{}]},{},{1:"analytics"});